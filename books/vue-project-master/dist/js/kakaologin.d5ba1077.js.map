{"version":3,"sources":["webpack:///./src/views/KakaoLogin.vue","webpack:///./src/views/KakaoLogin.vue?1b54"],"names":["src","width","id","kakaoLogin","components","data","code","mounted","methods","window","Kakao","Auth","login","scope","success","this","getKakaoAccount","API","request","url","res","kakao_account","nickname","profile","email","console","log","alert","fail","error","$api","param","gender","$store","commit","$router","push","path","render"],"mappings":"qIAGM,eAGE,OAFAA,IAAI,kEACJC,MAAM,O,yDAJZ,eAOQ,YANN,eAKI,KALDC,GAAG,mBAAoB,QAAK,+BAAE,EAAAC,gB,CAC/B,M,0BAUS,GACbC,WAAY,GAEZC,KAHa,WAIX,MAAO,CACLC,KAAK,KAGTC,QARa,aAYbC,QAAS,CACPL,WADO,WAEHM,OAAOC,MAAMC,KAAKC,MAAM,CACpBC,MAAQ,yBACRC,QAASC,KAAKC,mBAGtBA,gBAPO,WAQHP,OAAOC,MAAMO,IAAIC,QAAQ,CACrBC,IAAI,cACJL,QAAU,SAAAM,GACN,IAAMC,EAAgBD,EAAIC,cACpBC,EAAWD,EAAcE,QAAQD,SACjCE,EAAQH,EAAcG,MAE5BC,QAAQC,IAAI,WAAYJ,GACxBG,QAAQC,IAAI,QAASF,GAIrBC,QAAQC,IAAIL,GAuBZM,MAAM,YAEVC,KAAO,SAAAC,GAEHJ,QAAQC,IAAIG,OAIlBjB,MAnDC,SAmDKS,GAAe,wKACnB,EAAKS,KAAK,aAAc,CAC5BC,MAAM,CACJ,CAACP,MAAMH,EAAcG,MAAOF,SAASD,EAAcE,QAAQD,SAAUU,OAAOX,EAAcW,QAC1F,CAACV,SAASD,EAAcE,QAAQD,SAAUU,OAAOX,EAAcW,WAJ1C,OAQzB,EAAKC,OAAOC,OAAO,OAAOb,GAE1B,EAAKc,QAAQC,KAAK,CAAEC,KAAM,SAVD,gDCzE/B,EAAOC,OAASA,EAED","file":"js/kakaologin.d5ba1077.js","sourcesContent":["<template>\n  <div >\n    <a id=\"custom-login-btn\" @click=\"kakaoLogin()\">\n      <img\n        src=\"//k.kakaocdn.net/14/dn/btqCn0WEmI3/nijroPfbpCa4at5EIsjyf0/o.jpg\"\n        width=\"222\"\n      />\n    </a>\n    </div>\n</template>\n<script>\n// import axios from 'axios'\n\nexport default {\n  components: {\n  },\n  data() {\n    return {\n      code:\"\",\n    };\n  },\n  mounted() {\n    // Kakao.init('c2875030d590c5acc4f04aa15597bab4');\n    // Kakao.isInitialized();\n  },\n  methods: {\n    kakaoLogin() {\n        window.Kakao.Auth.login({\n            scope : 'profile, account_email',\n            success: this.getKakaoAccount,\n        });\n    },\n    getKakaoAccount(){\n        window.Kakao.API.request({\n            url:'/v2/user/me',\n            success : res => {\n                const kakao_account = res.kakao_account;\n                const nickname = kakao_account.profile.nickname; //카카오 닉네임\n                const email = kakao_account.email //카카오 이메일\n\n                console.log('nickname', nickname);\n                console.log('email', email);\n                //로그인 처리 구현\n\n\n                console.log(kakao_account);\n                // this.login(kakao_account);\n                \n                // const userInfo = {\n                //     nickname : kakao_account.profile.nickname,\n                //     email : kakao_account.email,\n                //     password : '',\n                //     account_type : 2,\n                // }\n\n                  // axios.post(`http://localhost:8080/account/kakao`,{\n                  //     email : userInfo.email,\n                  //     nickname : userInfo.nickname\n                  // })\n                  // .then(res => {\n                  //   console.log(res);\n                  //   console.log(\"데이터베이스에 회원 정보가 있음!\");\n                  // })\n                  // .catch(err => {\n                  //     console.log(err);\n                  //   console.log(\"데이터베이스에 회원 정보가 없음!\");\n                  // })\n                // console.log(userInfo);\n                alert(\"로그인 성공!\");\n            },\n            fail : error => {\n                // this.$router.push(\"/errorPage\");\n                console.log(error);\n            }\n        })\n    },\n    async login(kakao_account) {\n      await this.$api(\"/api/login\", {\n        param:[\n          {email:kakao_account.email, nickname:kakao_account.profile.nickname, gender:kakao_account.gender},\n          {nickname:kakao_account.profile.nickname, gender:kakao_account.gender}\n          ]\n      });\n\n      this.$store.commit(\"user\",kakao_account);\n      \n      this.$router.push({ path: 'test'});\n    }\n  }\n}\n</script>","import { render } from \"./KakaoLogin.vue?vue&type=template&id=76a2988e\"\nimport script from \"./KakaoLogin.vue?vue&type=script&lang=js\"\nexport * from \"./KakaoLogin.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}